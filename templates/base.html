<!DOCTYPE html>
{% load i18n %}
{% load static %}

{% get_current_language as LANGUAGE_CODE %}
<!--  
  head
    meta
    responsive
    favicon
    title
    css_bootstrap
    css_site
    css
    extrahead
  body
    body_class
    topbar
      topbar_class
      brand
      welcome_msg
    left_sidebar
      left_sidebar_class
    main
      main_class
      messages
      messages_class
      content
      pagination
    right_sidebar
      right_sidebar_class
    footer
    javascript_core
    javascript
-->
<html lang="{{ LANGUAGE_CODE|default:"es-co" }}">
<head>
    {% block meta %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="author" content="">
    {% endblock meta %}

    {% block responsive %}
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    {% endblock responsive %}

    {% block favicon %}
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}"> 
    {% endblock favicon %}

    <title>
    {% block title %}Azaí{% endblock title %}
    </title>

    {% block css_bootstrap %}
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
    {% endblock css_bootstrap %}

    {% block css_site %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    {% endblock css_site %}

    {% block css %} 
    {% endblock css %}

    {% block extrahead %}
    {% endblock extrahead %}
</head>

<body class="{% block body_class %}bg-blue{% endblock body_class %}">
    {% block topbar %}
    <nav class="{% block topbar_class %}navbar fixed-top flex-md-nowrap navbar-expand-lg navbar-white bg-white p-0{% endblock topbar_class %}">
      <a class="navbar-brand bg-white col-sm-3 col-md-2 text-center font-weight-bold text-secondary" href="{% url 'home' %}">{% block brand %}Azaí{% endblock brand %}</a>
    
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent"></div>
      {% if user.is_authenticated %}
        <ul class="navbar-nav ml-auto">
            <li class="nav-item text-nowrap">
              {% block welcome_msg %} 
              <p class="col-sm-3 col-md-2 text-muted">
                  <strong>{{ user.email }}</strong>.
              </p>
              {% endblock welcome_msg %}
          </li>
          <li class="nav-item text-nowrap">
              <a class="col-sm-3 col-md-2 font-weight-bold text-secondary" href="{% url 'password_change' %}">{% trans 'Change password' %}</a>
          </li>
          <li class="nav-item text-nowrap">
              <a class="col-sm-3 col-md-2 font-weight-bold text-secondary" href="{% url 'logout' %}">{% trans 'Log out' %}</a>
          </li>
          <li class="nav-item text-nowrap">
              &nbsp;
          </li>
        </ul>
      {% else %}
        <ul class="navbar-nav">
          <li class="nav-item text-nowrap">
            <a class="col-sm-3 col-md-2 font-weight-bold text-secondary" href="{% url 'login' %}">{% trans 'Log in' %}</a>
          </li>
        </ul>
      {% endif %}
      </div>
    </nav>
    {% endblock topbar %}
  
    <!-- Container -->
    {% block container %}
      <div class="container-fluid">
        <div class="row">
          {% block left_sidebar %}
          <nav class="{% block left_sidebar_class %}col-md-2 d-none d-md-block bg-white sidebar{% endblock left_sidebar_class %}">
            {% include 'base/left_sidebar.html'%}
          </nav>
          {% endblock left_sidebar %}
  
          <main role="main" class="{% block main_class %}col-md-9 ml-sm-auto col-lg-10 px-4{% endblock main_class %}">
            {% block messages %}
              {% if messages %}
                <ul class="{% block messages_class %}messagelist{% endblock messages_class %}">
                  {% for message in messages %}
                    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message|capfirst }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            {% endblock messages %}
  
            {% block content %}
            {% endblock content %}
            
            {% block pagination %}
            {% endblock pagination %}
          </main>
  
          {% block right_sidebar %}
          {% endblock right_sidebar %}
  
          <br class="clear" />
        </div>
        <div class="row">
          <!-- Footer -->    
          {% block footer %}
          {% endblock %}
          <!-- END Footer -->
        </div>
      </div>
    {% endblock container %}
    <!-- END Container -->

    <!-- javascript -->
    {% block javascript_core %}
      {% include 'base/js.html' %}
    {% endblock javascript_core %}

    {% block javascript %}
    {% endblock javascript %}
    <!-- END javascript -->
</body>
</html>
